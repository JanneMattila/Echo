function addMessage(n){console.log(n);let t=document.createElement("pre");t.innerText=n;echoElement.insertBefore(t,echoElement.firstChild)}let echoElement=document.getElementById("echo");let logger=new signalR.ConsoleLogger(signalR.LogLevel.Information),transportType=signalR.TransportType.WebSockets,protocol=new signalR.JsonHubProtocol,hubRoute="Echo",connection=new signalR.HubConnection(hubRoute,{transport:transportType,logger:logger,protocol:protocol});connection.on("echo",function(n){let t="Date received: "+(new Date).toLocaleTimeString();t+="\n"+n.request;t+="\n\n"+n.headers;t+="\n"+n.body;addMessage(t)});connection.onclose(function(n){n?addMessage("Connection closed with error: "+n):addMessage("Disconnected")});connection.start().then(function(){}).catch(function(n){addMessage(n)});